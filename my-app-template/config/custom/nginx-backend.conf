## ğŸš¨ WARNING ğŸš¨
#
# This file is under version control!
# DO NOT EDIT DIRECTLY - If you do, you'll loose your changes!
#
# The original file is in `/var/www/my-app/config/custom/`
#
# âš ï¸ This file is SHARED among dev|staging|prod âš ï¸
#
# ğŸª„ Based on https://github.com/TurboLabIt/webstackup/blob/master/my-app-template/config/custom/nginx-backend.conf

set $APP_NAME my-app;

## ğŸŒ public webroot ("htdocs")
root $PROJECT_DIR/public;

## ğŸ”¢ PHP version to use
set $PHP_VER my-app-php-version;

## ğŸ¤– Autodeploy (requires a valid autodeploy.php symlink, created on staging env only)
# https://github.com/TurboLabIt/webstackup/blob/master/script/php-pages/readme.md#how-to-autodeploy
include /usr/local/turbolab.it/webstackup/config/nginx/45_autodeploy-async.conf;

## ğŸƒâ€â™‚ï¸ Async runner (requires a related cron job)
# https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/45_async-runner-request.conf
#include /usr/local/turbolab.it/webstackup/config/nginx/45_async-runner-request.conf;

## ğŸš’ PHP
include /usr/local/turbolab.it/webstackup/config/nginx/40_php-fpm.conf;


## ğŸ§™ Magento
#set $MAGE_ROOT $PROJECT_DIR/shop;
#include /var/www/my-app/shop/nginx.conf.sample;

## â™¾ï¸ Pimcore
# https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/15_pimcore_10.conf
#include /usr/local/turbolab.it/webstackup/config/nginx/15_pimcore_10.conf;

## ğŸ“ Symfony
# https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/07_symfony_location.conf
#include /usr/local/turbolab.it/webstackup/config/nginx/07_symfony_location.conf;

## ğŸ“° WordPress
# https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/15_wordpress_location.conf
include /usr/local/turbolab.it/webstackup/config/nginx/15_wordpress_location.conf;

# https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/16_wordpress_restrict_api.conf
include /usr/local/turbolab.it/webstackup/config/nginx/16_wordpress_restrict_api.conf;


## ğŸ“ƒ Logging
error_log /var/log/nginx/my-app_error.log;
access_log /var/log/nginx/my-app_access.log;
